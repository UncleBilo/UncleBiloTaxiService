<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Taxi Reservering</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      margin: 0;
      padding: 10px;
    }
    .container {
      background: white;
      max-width: 500px;
      margin: 20px auto;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    input, textarea, button {
      width: 100%;
      margin-top: 10px;
      padding: 10px;
      font-size: 1rem;
    }
    button {
      background-color: #27ae60;
      color: white;
      border: none;
      border-radius: 5px;
    }
    .btn-secondary {
      background-color: #3498db;
      margin-top: 10px;
    }
    .success {
      color: green;
      text-align: center;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Taxi Reserveren</h2>
    <form id="taxiForm">
      <label>Naam:</label>
      <input type="text" id="naam" required />
      <label>Ophaaladres:</label>
      <input type="text" id="ophaal" required />
      <label>Bestemming:</label>
      <input type="text" id="bestemming" required />
      <label>Datum & Tijd:</label>
      <input type="datetime-local" id="datum" required />
      <label>Opmerkingen:</label>
      <textarea id="opmerking"></textarea>

      <button type="submit">Bereken & Betaal</button>
    </form>

    <div id="prijsInfo" class="success"></div>

    <div id="betalingen" style="display:none;">
      <a id="mollieLink" href="#" target="_blank">
        <button class="btn-secondary">Betaal met iDEAL</button>
      </a>
      <button id="naBetalingKnop" style="display:none;" class="btn-secondary">Ik heb betaald</button>
    </div>
  </div>

  <script>
    let totaalPrijs = 0;
    let whatsappBericht = "";

    function initTaxiForm() {
      document.getElementById("taxiForm").addEventListener("submit", function(e) {
        e.preventDefault();

        const naam = document.getElementById("naam").value;
        const ophaal = document.getElementById("ophaal").value;
        const bestemming = document.getElementById("bestemming").value;
        const datum = document.getElementById("datum").value;
        const opmerking = document.getElementById("opmerking").value;

        const service = new google.maps.DistanceMatrixService();
        service.getDistanceMatrix(
          {
            origins: [ophaal],
            destinations: [bestemming],
            travelMode: 'DRIVING',
          },
          function(response, status) {
            if (status !== 'OK') {
